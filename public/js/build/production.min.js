"use strict";!function(){var e=io(),t=document.querySelector("#chat-area"),n=document.querySelector("#typing-box"),i=document.querySelector("#lightbox"),s=i.querySelector("#nickname-form"),r=(document.querySelector(".nickname"),document.querySelector(".message")),o=document.querySelector(".typing"),a=document.querySelector("#small-icon"),c=null,u=!1;function d(t){t.preventDefault(),c=s.querySelector(".nickname").value,i.classList.add("nickname-selected");var o="<span>"+c+"</span> has entered the chat";e.emit("connect message",{msg:o,nick:c}),s.removeEventListener("submit",d,!1),r.addEventListener("keyup",l,!1),n.addEventListener("submit",v,!1)}function l(t){var n=c+" is typing";e.emit("typing message",n);setTimeout(m,2e3)}function m(){e.emit("typing message","")}function g(e){var n='<li class="in-out"><p>'+e.message+"</p></li>";t.innerHTML+=n,t.scrollTop=t.scrollHeight}function v(t){if(t.preventDefault(),r.value){c=c&&c.length>0?c:"user";var n=new Date,i=(a="0"+(o=n).getHours(),u="0"+o.getMinutes(),d="0"+o.getSeconds(),a.slice(-2)+":"+u.slice(-2)+":"+d.slice(-2)),s="<span>"+c+"</span>: "+r.value+"<time>"+i+"</time>";return e.emit("chat message",s),r.value="",!1}var o,a,u,d}function y(){setTimeout(L,2e3)}function L(){if(!u){var e=document.querySelector("#night-button");e.style.display="none",a.removeEventListener("mouseout",y,!1),e.removeEventListener("click",p,!1)}}function p(e){e.preventDefault();var t=document.querySelector("#container"),n=document.querySelector("body");e.currentTarget.classList.contains("night-on")?(e.currentTarget.classList.remove("night-on"),t.classList.remove("night"),n.style.backgroundImage="url(../images/background.jpg)",e.currentTarget.innerHTML="Night Mode OFF"):(e.currentTarget.classList.add("night-on"),t.classList.add("night"),n.style.backgroundImage="url(../images/background-night.jpg)",e.currentTarget.innerHTML="Night Mode ON")}window.addEventListener("load",function(){s.addEventListener("submit",d,!1)},!1),e.addEventListener("chat message",function(n){e.id,n.id;var i=void 0;i=e.id===n.id?'<li class="my-msg"><p>'+n.message+"</p></li>":"<li><p>"+n.message+"</p></li>",t.innerHTML+=i,t.scrollTop=t.scrollHeight},!1),e.addEventListener("connect message",g,!1),e.addEventListener("disconnect message",g,!1),e.addEventListener("typing message",function(t){e.id,t.id,e.id!=t.id&&(o.innerHTML=t.message)},!1),a.addEventListener("mouseover",function(){var e=document.querySelector("#night-button");e.style.display="block",a.addEventListener("mouseout",y,!1),e.addEventListener("mouseover",function(){u=!0},!1),e.addEventListener("mouseout",function(){u=!1,y()},!1),e.addEventListener("click",p,!1)},!1)}();